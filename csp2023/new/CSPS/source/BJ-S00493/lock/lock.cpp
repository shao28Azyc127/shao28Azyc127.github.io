#include<bits/stdc++.h>
using namespace std;
int a[15][10];
int t[10];
int n,ans,t1,t2,t3,t4,t5,cnt;
bool vis[10];
/*
void dfs(int c,int x)
{
    if(x>5)
    {
        bool f=1;
        for(int i=1;i<=n;i++)
        {
            for(int j=1;j<=5;j++)
                if(a[c][i]==t[i])f=0;
        }
        if(f) ans++;
        return;
    }
    for(int i=1;i<=5;i++)
    {
        for(int j=1;j<=9;j++)
            if(!vis[i])
            {
                vis[i]=1;
                t[i]=a[c][i]+j;
                dfs(c,i+1);
                t[i]=a[c][i]-j;
                dfs(c,i+1);
                vis[i]=0;
            }

    }
    for(int i=1;i<=5;i++)
    {
        for(int j=1;j<=9;j++)
            if(!vis[i]){
                t[i]=a[c][i]+j;
                for(int k=1;k<=5;k++){
                    if(!vis[k])
                    {
                        vis[k]=1;
                        t[k]=a[c][k]+j;
                    }
                }
                dfs(c,i+1);
                t[i]=a[c][i]-j;
                for(int k=1;k<=5;k++){
                    if(!vis[k])
                    {
                        vis[k]=1;
                        t[k]=a[c][k]-j;
                    }
                }
                dfs(c,i+1);
        }
    }
}
*/
int main()
{
    freopen("lock.in","r",stdin);
    freopen("lock.out","w",stdout);
    cin>>n;
    for(int i=1;i<=n;i++)
    {
        cin>>a[i][1]>>a[i][2]>>a[i][3]>>a[i][4]>>a[i][5];
        if(a[i][1]==a[i-1][1]&&a[i][2]==a[i-1][2]&&a[i][3]==a[i-1][3]&&a[i][4]==a[i-1][4]&&a[i][5]!=a[i-1][5]||a[1][1]==0&&a[1][2]==0&&a[1][3]==0&&a[1][4]==0&&a[1][5]!=0)cnt++;
        if(a[i][1]==a[i-1][1]&&a[i][2]==a[i-1][2]&&a[i][3]==a[i-1][3]&&a[i][4]!=a[i-1][4]&&a[i][5]==a[i-1][5]||a[1][1]==0&&a[1][2]==0&&a[1][3]==0&&a[1][4]!=0&&a[1][5]==0)cnt++;
        if(a[i][1]==a[i-1][1]&&a[i][2]==a[i-1][2]&&a[i][3]!=a[i-1][3]&&a[i][4]==a[i-1][4]&&a[i][5]==a[i-1][5]||a[1][1]==0&&a[1][2]==0&&a[1][3]!=0&&a[1][4]==0&&a[1][5]==0)cnt++;
        if(a[i][1]==a[i-1][1]&&a[i][2]!=a[i-1][2]&&a[i][3]==a[i-1][3]&&a[i][4]==a[i-1][4]&&a[i][5]==a[i-1][5]||a[1][1]==0&&a[1][2]!=0&&a[1][3]==0&&a[1][4]==0&&a[1][5]==0)cnt++;
        if(a[i][1]!=a[i-1][1]&&a[i][2]==a[i-1][2]&&a[i][3]==a[i-1][3]&&a[i][4]==a[i-1][4]&&a[i][5]==a[i-1][5]||a[1][1]!=0&&a[1][2]==0&&a[1][3]==0&&a[1][4]==0&&a[1][5]==0)cnt++;

        if(a[i][1]!=a[i-1][1]&&a[i][2]==a[i-1][2]&&a[i][3]==a[i-1][3]&&a[i][4]==a[i-1][4]&&a[i][5]!=a[i-1][5])t5++;
        if(a[1][1]!=0&&a[1][2]==0&&a[1][3]==0&&a[1][4]==0&&a[1][5]!=0)t5++;
        if(a[i][1]!=a[i-1][1]&&a[i][2]==a[i-1][2]&&a[i][3]==a[i-1][3]&&a[i][4]!=a[i-1][4]&&a[i][5]==a[i-1][5])t5++;
        if(a[1][1]!=0&&a[1][2]==0&&a[1][3]==0&&a[1][4]!=0&&a[1][5]==0)t5++;
        if(a[i][1]!=a[i-1][1]&&a[i][2]==a[i-1][2]&&a[i][3]!=a[i-1][3]&&a[i][4]==a[i-1][4]&&a[i][5]==a[i-1][5])t5++;
        if(a[1][1]!=0&&a[i][2]==0&&a[i][3]!=0&&a[i][4]==0&&a[i][5]==0)t5++;
        if(a[i][1]!=a[i-1][1]&&a[i][2]!=a[i-1][2]&&a[i][3]==a[i-1][3]&&a[i][4]==a[i-1][4]&&a[i][5]==a[i-1][5])t5++;
        if(a[1][1]!=0&&a[i][2]!=0&&a[i][3]==0&&a[i][4]==0&&a[i][5]==0)t5++;
        if(a[i][1]==a[i-1][1]&&a[i][2]!=a[i-1][2]&&a[i][3]!=a[i-1][3]&&a[i][4]==a[i-1][4]&&a[i][5]==a[i-1][5])t5++;
        if(a[1][1]==0&&a[i][2]!=0&&a[i][3]!=0&&a[i][4]==0&&a[i][5]==0)t5++;
        if(a[i][1]==a[i-1][1]&&a[i][2]!=a[i-1][2]&&a[i][3]==a[i-1][3]&&a[i][4]!=a[i-1][4]&&a[i][5]==a[i-1][5])t5++;
        if(a[1][1]==0&&a[i][2]!=0&&a[i][3]==0&&a[i][4]!=0&&a[i][5]==0)t5++;
        if(a[i][1]==a[i-1][1]&&a[i][2]!=a[i-1][2]&&a[i][3]==a[i-1][3]&&a[i][4]==a[i-1][4]&&a[i][5]!=a[i-1][5])t5++;
        if(a[1][1]==0&&a[i][2]!=0&&a[i][3]==0&&a[i][4]==0&&a[i][5]!=0)t5++;
        if(a[i][1]==a[i-1][1]&&a[i][2]==a[i-1][2]&&a[i][3]!=a[i-1][3]&&a[i][4]!=a[i-1][4]&&a[i][5]==a[i-1][5])t5++;
        if(a[1][1]==0&&a[i][2]==0&&a[i][3]!=0&&a[i][4]!=0&&a[i][5]==0)t5++;
        if(a[i][1]==a[i-1][1]&&a[i][2]==a[i-1][2]&&a[i][3]!=a[i-1][3]&&a[i][4]==a[i-1][4]&&a[i][5]!=a[i-1][5])t5++;
        if(a[1][1]==0&&a[i][2]==0&&a[i][3]!=0&&a[i][4]==0&&a[i][5]!=0)t5++;
        if(a[i][1]!=a[i-1][1]&&a[i][2]==a[i-1][2]&&a[i][3]==a[i-1][3]&&a[i][4]!=a[i-1][4]&&a[i][5]!=a[i-1][5])t5++;
        if(a[1][1]!=0&&a[i][2]==0&&a[i][3]==0&&a[i][4]!=0&&a[i][5]!=0)t5++;
    }
    ans=81-cnt-t5;
    cout<<ans;
    return 0;
}
